{"ast":null,"code":"var _jsxFileName = \"/home/lucaswerner/projetos-branch/sd-02-week13-movie-card-library-crud/src/pages/MovieDetails.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Redirect } from 'react-router-dom';\nimport * as movieAPI from '../services/movieAPI';\nimport { Loading } from '../components';\n\nclass MovieDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movie: '',\n      isShouldRedirect: false\n    };\n  }\n\n  componentDidMount() {\n    movieAPI.getMovie(this.props.match.params.id).then(movie => this.setState({\n      movie\n    }));\n  }\n\n  onChangeRedirect() {\n    const id = this.state.movie.id;\n    movieAPI.deleteMovie({\n      id\n    });\n    this.setState({\n      isShouldRedirect: true\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          movie = _this$state.movie,\n          isShouldRedirect = _this$state.isShouldRedirect;\n    const title = movie.title,\n          storyline = movie.storyline,\n          imagePath = movie.imagePath,\n          genre = movie.genre,\n          rating = movie.rating,\n          subtitle = movie.subtitle,\n          id = movie.id;\n    if (isShouldRedirect) return React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    });\n    if (!movie) return React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12 m7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"Movie Cover\",\n      src: \"../\".concat(imagePath),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, title)), React.createElement(\"div\", {\n      className: \"card-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Subtitle: \".concat(subtitle)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Storyline: \".concat(storyline)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Genre: \".concat(genre)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Rating: \".concat(rating))), React.createElement(\"div\", {\n      className: \"card-action\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/movies/\".concat(id, \"/edit\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"EDITAR\"), React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"VOLTAR\"), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.onChangeRedirect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"APAGAR\")))));\n  }\n\n}\n\nMovieDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.number\n    })\n  }).isRequired\n};\nexport default MovieDetails;","map":{"version":3,"sources":["/home/lucaswerner/projetos-branch/sd-02-week13-movie-card-library-crud/src/pages/MovieDetails.js"],"names":["React","Component","PropTypes","Link","Redirect","movieAPI","Loading","MovieDetails","constructor","props","state","movie","isShouldRedirect","componentDidMount","getMovie","match","params","id","then","setState","onChangeRedirect","deleteMovie","render","title","storyline","imagePath","genre","rating","subtitle","propTypes","shape","number","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Redirect } from 'react-router-dom';\nimport * as movieAPI from '../services/movieAPI';\nimport { Loading } from '../components';\n\nclass MovieDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movie: '',\n      isShouldRedirect: false,\n    };\n  }\n\n  componentDidMount() {\n    movieAPI.getMovie(this.props.match.params.id)\n      .then((movie) => this.setState({ movie }));\n  }\n\n  onChangeRedirect() {\n    const { id } = this.state.movie;\n    movieAPI.deleteMovie({ id });\n    this.setState({\n      isShouldRedirect: true,\n    });\n  }\n\n  render() {\n    const { movie, isShouldRedirect } = this.state;\n    const {\n      title, storyline, imagePath, genre, rating, subtitle, id,\n    } = movie;\n\n    if (isShouldRedirect) return <Redirect to=\"/\" />;\n\n    if (!movie) return <Loading />;\n\n    return (\n      <div className=\"row\">\n        <div className=\"col s12 m7\">\n          <div className=\"card\">\n            <div className=\"card-image\">\n              <img alt=\"Movie Cover\" src={`../${imagePath}`} />\n              <span className=\"card-title\">{title}</span>\n            </div>\n            <div className=\"card-content\">\n              <p>{`Subtitle: ${subtitle}`}</p>\n              <p>{`Storyline: ${storyline}`}</p>\n              <p>{`Genre: ${genre}`}</p>\n              <p>{`Rating: ${rating}`}</p>\n            </div>\n            <div className=\"card-action\">\n              <Link to={`/movies/${id}/edit`}>EDITAR</Link>\n              <Link to=\"/\">VOLTAR</Link>\n              <button type=\"button\" onClick={this.onChangeRedirect}>APAGAR</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nMovieDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({ id: PropTypes.number }),\n  }).isRequired,\n};\n\nexport default MovieDetails;\n"]},"metadata":{},"sourceType":"module"}